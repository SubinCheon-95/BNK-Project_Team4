<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.busanbank.mapper.CategoryMapper">

    <!-- 단일 카테고리 조회 -->
    <select id="findById" parameterType="int" resultType="kr.co.busanbank.dto.CategoryDTO">
        SELECT CATEGORYID, CATEGORYNAME, PARENTID
        FROM CATEGORY
        WHERE CATEGORYID = #{categoryId}
    </select>

    <!-- 1차 카테고리 조회 -->
    <select id="findDepth1" resultType="kr.co.busanbank.dto.CategoryDTO">
        SELECT CATEGORYID, CATEGORYNAME, PARENTID
        FROM CATEGORY
        WHERE PARENTID IS NULL
        ORDER BY CATEGORYID
    </select>

    <!-- 1차 카테고리 자식 목록 -->
    <select id="findChildren" parameterType="int" resultType="kr.co.busanbank.dto.CategoryDTO">
        SELECT CATEGORYID, CATEGORYNAME, PARENTID
        FROM CATEGORY
        WHERE PARENTID = #{parentId}
        ORDER BY CATEGORYID
    </select>

</mapper>